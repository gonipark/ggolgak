# ggolgak
사용자 선호 기반 맥주 추천 

졸업 프로젝트

어플 이름은 추천해酒
팀 이름이 꼴깍


## 개발 동기 및 목표

세상엔 수많은 종류의 맥주가 있다. 하지만 맥주에 대한 상세정보는 맥주병에 적혀있지 않고 자신의 취향에 맞는 지 알 수 없었다. 맥주 정보를 얻어 사용자가 취향을 파악하고 맥주를 마신다면 훨씬 풍부하게 맥주를 마실 수 있으며, 마음에 들었던 맥주를 저장해 놓으면 편할 것이다. 또한, 취향에 맞는 맥주를 추천받을 수 있으면 맥주를 마시는 즐거움이 배가 될 것이라는 아이디어로 개발을 시작했다. 그에 따라, 간편하게 개인 취향의 맥주에 대한 정보를 얻을 수 있으면서, 사용자 취향을 기반으로 적절한 맥주 추천 기능 구현에 목표를 두었다. 그리고 사용자가 간편하게 맥주를 검색하여 정보를 얻게 하게끔 하기 위해 맥주 로고를 카메라로 찍으면 맥주 이름을 인식해 손쉽게 정보를 얻게 함에 주안점을 두었다. 이 어플리케이션을 통해 맥주를 손쉽게, 개개인에 맞추어서 즐기기를 바라며 제작을 진행했다.


## 프로젝트 개요

어플에서 구현할 기능을 크게 세 가지로 구상했다. 첫째로, 카메라로 맥주로고 인식, 둘째로, 사용자 취향 기반 맥주 추천, 마지막으로 검색과 맥주 정보페이지 이렇게 나누었다. 카메라로 맥주를 인식하는 기능은 구글에서 제공하는 google cloudvision API를 이용했다. 이는 광학 문자 인식(ocr)을 사용해 자동 언어 식별과 함께 이미지 내의 텍스트를 감지하는 기능을 구현할 수 있게 한다. 취향 기반 추천기능은 k-means algorithm을 써서 맥주들을 clustering 해 이를 기반으로 같은 cluster에 속하는 맥주를 추천하게 했다. 추가적으로 맥주리스트를 어플의 메인 페이지에 띄우고 검색기능을 넣었다. 맥주 각각의 정보가 나와 있는 상세페이지에는 맥주의 상세 정보 (이름, 사진, 도수, 나라, 종류, IBU, 특징적인 키워드)가 나온다. 또한, 이 상세페이지에는 해당 맥주와 비슷한 맥주들을 추천하는 방식으로 구상했다.


## 개발 언어 및 환경

개발 언어는 자바를 기본으로 하여 안드로이드 스튜디오를 기반으로 진행했다. 자바로 개발된 기계 학습 소프트웨어인 weka를 사용해 추천기능을 구현하였으며, sqlite로 맥주 데이터베이스를 구축했다. 마지막으로 google cloudvision API를 사용해 텍스트 감지기능을 수행했다.


## 사용기술 및 특징

주요 사용 기술은 크게 텍스트 인식기능과 맥주 추천에 사용된 기술이 있다. 먼저, google cloudvision API를 이용했는데, 이미지 라벨링, 얼굴 및 랜드마크 감지, 광학 문자 인식(OCR), 음란물 태깅 등의 시각적 감지 기능을 애플리케이션에 손쉽게 통합할 수 있는 API 이다. 이는 광학 문자 인식(OCR)을 제공하는데 OCR이란, 사람이 쓰거나 기계로 인쇄한 문자의 영상을 이미지 스캐너로 획득하여 기계가 읽을 수 있는 문자로 변환하는 것을 말한다. 우리는 cloudvision API에서 이미지에서 텍스트를 감지하고 추출하는 기능을 사용했다.
 
다음으로, 맥주 추천할 때 이용한 k-means algorithm은 주어진 데이터를 k개의 클러스터로 묶는 알고리즘으로, 각 클러스터와 거리 차이의 분산을 최소화하는 방식으로 동작한다.k-means clustering은 k개의 유사한 클러스터(군집)로 묶는다. 각 클러스터의 평균과 그룹 내의 데이터 간의 거리의 제곱합을 최소화하는 방향으로 각 데이터의 소속 클러스터를 업데이트하는 방식이다. k-평균 클러스터링 알고리즘은 클러스터링 방법 중 분할법에 속한다. 분할법은 주어진 데이터를 여러 파티션 (그룹) 으로 나누는 방법이다. 예를 들어, n개의 데이터 오브젝트를 입력받았다고 가정하자. 이 때 분할법은 입력 데이터를 n보다 작거나 같은 k개의 그룹으로 나누는데, 이 때 각 군집은 클러스터를 형성하게 된다. 다시 말해, 데이터를 한 개 이상의 데이터 오브젝트로 구성된 k개의 그룹으로 나누는 것이다. 이 때 그룹을 나누는 과정은 거리 기반의 그룹 간 비유사도 (dissimilarity) 와 같은 비용 함수 (cost function) 을 최소화하는 방식으로 이루어지며, 이 과정에서 같은 그룹 내 데이터 오브젝트끼리의 유사도는 증가하고, 다른 그룹에 있는 데이터 오브젝트와의 유사도는 감소하게 된다. k-평균 알고리즘은 각 그룹의 중심 (centroid)과 그룹 내의 데이터 오브젝트와의 거리의 제곱합을 비용 함수로 정하고, 이 함수 값을 최소화하는 방향으로 각 데이터 오브젝트의 소속 그룹을 업데이트 해 줌으로써 클러스터링을 수행하게 된다. 


## 기능 설명
 우선 이 어플의 가장 큰 기능은 세 가지로 요약할 수 있다. 사진의 정보를 분석해 맥주를 인식, 좋아하는 맥주를 바탕으로 한 맥주 추천, 맥주 검색 및 정보 페이지 열람이다. 
 어플의 초기페이지에서 오른쪽 아래의 버튼을 누르면 세 개의 버튼이 추가로 생성된다. 그 중 “맥주사진 찍기”를 누르면 카메라 혹은 갤러리를 통해 사진을 로드할 수 있다. 사진을 로드하면 사진에서 텍스트를 추출해 이에 해당하는 맥주 상세정보 페이지를 뜬다.
 맥주의 상세페이지는 오른쪽 상단에 별모양이 있다, 별을 누르면 좋아하는 맥주 리스트에 저장할 수 있다. 또한 이 페이지의 아래에는 해당 맥주와 유사한 맥주의 목록이 있다. 클러스터링을 이용해 분류한 맥주들 중 해당 맥주와 유사한 맥주를 추천 목록에 올린다. 
 초기 화면의 메뉴 버튼 중 “내가 좋아하는 맥주” 버튼을 누르면 사용자가 별표시를 했던 맥주들을 보여준다. 이 또한 클릭시 맥주상세정보 페이지로 넘어간다.
 세가지 세부메뉴 버튼 중 마지막은 “맥주 추천”이다. 해당 버튼을 클릭하면 사용자의 좋아하는 맥주를 바탕으로한 추천 맥주 다섯 개를 보여준다. 
